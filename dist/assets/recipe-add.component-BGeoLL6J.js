import{R as u}from"./recipe-api.service-aXopS-ej.js";import{_ as h,c,a as t,s as i,v as n,F as g,q as x,f as p,p as f,g as b}from"./index-CMyOcGY-.js";import"./http-common-CiLYNU3f.js";import"./axios-CCb-kr4I.js";const _={name:"submitRecipe",data(){return{name:"",category:"",description:"",ingredients:[],image:""}},methods:{addIngredient(){this.ingredients.push({name:"",quantity:"",cost:0})},async submitRecipe(){if(this.name&&this.category&&this.description&&this.ingredients.length>0&&this.image){const a={id:0,name:this.name,category:this.category,description:this.description,ingredients:this.ingredients,image:this.image};console.log("Datos de nueva receta:",a);const o=new u;try{(await o.create(a)).status===201?alert("Receta añadida exitosamente"):alert("Fallo al añadir la receta")}catch(d){console.error("Error añadiendo la receta:",d),alert("Error añadiendo la receta")}}else alert("Por favor, complete todos los campos")}}},y=a=>(f("data-v-5b3d1d52"),a=a(),b(),a),v={class:"background-container"},V={class:"form-container"},R=y(()=>t("div",{class:"form-header"},[t("h1",null,"Añadir la Receta")],-1)),U={class:"form-field"},I={class:"form-field"},k={class:"form-field"},S=["onUpdate:modelValue"],w=["onUpdate:modelValue"],A=["onUpdate:modelValue"],C={class:"form-field"};function q(a,o,d,B,s,l){return p(),c("div",v,[t("div",V,[R,t("div",U,[i(t("input",{class:"textbox",type:"text","onUpdate:modelValue":o[0]||(o[0]=e=>s.name=e),placeholder:"Nombre de la receta"},null,512),[[n,s.name]])]),t("div",I,[i(t("input",{class:"textbox",type:"text","onUpdate:modelValue":o[1]||(o[1]=e=>s.category=e),placeholder:"Categoría"},null,512),[[n,s.category]])]),t("div",k,[i(t("textarea",{class:"textbox","onUpdate:modelValue":o[2]||(o[2]=e=>s.description=e),placeholder:"Descripción del plato"},null,512),[[n,s.description]])]),(p(!0),c(g,null,x(s.ingredients,(e,m)=>(p(),c("div",{class:"form-field",key:m},[i(t("input",{class:"textbox",type:"text","onUpdate:modelValue":r=>e.name=r,placeholder:"Nombre del ingrediente"},null,8,S),[[n,e.name]]),i(t("input",{class:"textbox",type:"text","onUpdate:modelValue":r=>e.quantity=r,placeholder:"Cantidad"},null,8,w),[[n,e.quantity]]),i(t("input",{class:"textbox",type:"number","onUpdate:modelValue":r=>e.cost=r,placeholder:"Costo"},null,8,A),[[n,e.cost]])]))),128)),t("button",{onClick:o[3]||(o[3]=(...e)=>l.addIngredient&&l.addIngredient(...e))},"Añadir ingrediente"),t("div",C,[i(t("input",{class:"textbox",type:"text","onUpdate:modelValue":o[4]||(o[4]=e=>s.image=e),placeholder:"Insertar imagen de referencia"},null,512),[[n,s.image]])]),t("button",{class:"buttonSubmit",onClick:o[5]||(o[5]=(...e)=>l.submitRecipe&&l.submitRecipe(...e))},"Aceptar")])])}const L=h(_,[["render",q],["__scopeId","data-v-5b3d1d52"]]);export{L as default};
